<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DYZ1XEXPMT"></script>
  <script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-DYZ1XEXPMT');</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Illinois Child Support Calculator 2025 | Free & Private | Clearly</title>
  <meta name="description" content="Calculate Illinois child support using the official income shares model (750 ILCS 5/505). Free, private calculator - no data stored.">
  <link rel="canonical" href="https://getclearly.app/calculators/support/illinois.html">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://getclearly.app/calculators/support/illinois.html">
  <meta property="og:title" content="Illinois Child Support Calculator 2025 | Free & Private">
  <meta property="og:description" content="Calculate Illinois child support using the income shares model. Free, private - no data stored.">
  <meta property="og:image" content="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png">
  <meta property="og:site_name" content="Clearly">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Illinois Child Support Calculator 2025 | Free & Private">
  <meta name="twitter:description" content="Calculate Illinois child support using the income shares model. Free, private - no data stored.">
  <meta name="twitter:image" content="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png">
  <meta name="robots" content="noindex, follow">
  <meta name="keywords" content="illinois child support calculator, IL child support, 750 ILCS 5/505, illinois child support guidelines 2025, income shares illinois">
  <link rel="stylesheet" href="/styles.css">
  <link rel="icon" href="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/favicon.png">
  <link rel="apple-touch-icon" href="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png">
  <style>
    .calc-page-header { padding: 60px 0 40px; background: linear-gradient(180deg, var(--surface) 0%, var(--bg) 100%); border-bottom: 1px solid var(--border); }
    .calc-page-header .container { max-width: 900px; }
    .calc-page-header h1 { font-size: 36px; font-weight: 700; margin-bottom: 12px; }
    .calc-page-header p { font-size: 17px; color: var(--text-secondary); margin-bottom: 8px; }
    .calc-page-header .last-updated { font-size: 14px; color: var(--text-muted); }
    .calc-breadcrumb { font-size: 14px; color: var(--text-muted); margin-bottom: 16px; }
    .calc-breadcrumb a { color: var(--primary); }
    .calculator-section { padding: 40px 0 80px; }
    .calculator-section .container { max-width: 900px; }
    .calc-form-group { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; margin-bottom: 20px; overflow: hidden; }
    .calc-form-header { padding: 20px 24px; background: var(--bg); border-bottom: 1px solid var(--border); cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
    .calc-form-header h3 { font-size: 17px; font-weight: 600; margin: 0; display: flex; align-items: center; gap: 10px; }
    .calc-form-body { padding: 24px; }
    .calc-form-group.collapsed .calc-form-body { display: none; }
    .income-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; }
    .income-column h4 { font-size: 15px; font-weight: 600; color: var(--primary); margin-bottom: 20px; padding-bottom: 12px; border-bottom: 2px solid var(--primary-soft); }
    .calc-field { margin-bottom: 16px; }
    .calc-field label { display: block; font-size: 14px; font-weight: 500; color: var(--text-secondary); margin-bottom: 6px; }
    .calc-input { width: 100%; padding: 12px 14px; border: 1px solid var(--border); border-radius: 8px; font-size: 16px; }
    .calc-input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-soft); }
    .calc-input-prefix { position: relative; }
    .calc-input-prefix .calc-input { padding-left: 28px; }
    .calc-input-prefix::before { content: "$"; position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-muted); }
    .calc-subtotal { background: var(--primary-soft); border-radius: 8px; padding: 14px 16px; margin-top: 20px; display: flex; justify-content: space-between; align-items: center; }
    .calc-subtotal label { font-size: 14px; font-weight: 600; color: var(--primary-dark); margin: 0; }
    .calc-subtotal-value { font-size: 18px; font-weight: 700; color: var(--primary); }
    .calc-select { width: 100%; padding: 12px 14px; border: 1px solid var(--border); border-radius: 8px; font-size: 16px; background: var(--surface); }
    .calc-results-section { margin-top: 32px; display: none; }
    .calc-results-section.visible { display: block; }
    .calc-results-card { background: var(--primary-soft); border: 1px solid var(--primary-border); border-radius: 20px; padding: 32px; margin-bottom: 20px; }
    .calc-results-card h3 { font-size: 14px; font-weight: 600; text-transform: uppercase; color: var(--primary-dark); margin-bottom: 20px; }
    .calc-result-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--primary-border); }
    .calc-result-row:last-child { border-bottom: none; }
    .calc-result-label { font-size: 15px; color: var(--text-secondary); }
    .calc-result-value { font-size: 18px; font-weight: 700; color: var(--text); }
    .calc-result-primary { background: var(--primary); color: white; padding: 16px 20px; border-radius: 12px; margin: -8px -8px 16px; }
    .calc-result-primary .calc-result-label { color: rgba(255,255,255,0.8); }
    .calc-result-primary .calc-result-value { font-size: 28px; color: white; }
    .calc-disclaimer { background: #FEF3C7; border: 1px solid #F59E0B; border-radius: 12px; padding: 20px 24px; margin-top: 24px; }
    .calc-disclaimer h4 { font-size: 15px; font-weight: 600; color: #92400E; margin-bottom: 8px; }
    .calc-disclaimer p { font-size: 14px; color: #78350F; margin: 0; line-height: 1.6; }
    .calc-button-row { margin-top: 32px; display: flex; gap: 16px; }
    .btn-calculate { flex: 1; padding: 18px 32px; font-size: 18px; border: none; }
    .btn-reset { padding: 18px 24px; background: var(--surface); border: 1px solid var(--border); color: var(--text-secondary); }
    .calc-note { font-size: 13px; color: var(--text-muted); margin-top: 8px; font-style: italic; }
    .calc-info-box { background: var(--bg); border: 1px solid var(--border); border-radius: 12px; padding: 20px; margin-bottom: 20px; }
    .calc-info-box h4 { font-size: 15px; font-weight: 600; margin-bottom: 12px; }
    .calc-info-box p { font-size: 14px; color: var(--text-secondary); margin: 0; }
    .calc-toggle { display: flex; align-items: center; gap: 12px; margin-top: 16px; }
    .calc-toggle-switch { position: relative; width: 48px; height: 28px; background: var(--border); border-radius: 14px; cursor: pointer; transition: background 0.2s; }
    .calc-toggle-switch.active { background: var(--primary); }
    .calc-toggle-switch::after { content: ""; position: absolute; top: 2px; left: 2px; width: 24px; height: 24px; background: white; border-radius: 50%; transition: transform 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.15); }
    .calc-toggle-switch.active::after { transform: translateX(20px); }
    .calc-toggle label { font-size: 14px; color: var(--text-secondary); cursor: pointer; }
    @media (max-width: 768px) {
      .calc-page-header h1 { font-size: 28px; }
      .income-grid { grid-template-columns: 1fr; }
      .calc-button-row { flex-direction: column; }
    }
    .btn-download { display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; margin-top: 24px; padding: 16px 24px; background: var(--surface); border: 1px solid var(--border); color: var(--text); font-size: 16px; font-weight: 600; border-radius: 12px; cursor: pointer; transition: all 0.2s ease; }
    .btn-download:hover { background: var(--bg); border-color: var(--primary); color: var(--primary); }
    .btn-download svg { flex-shrink: 0; }

    /* Version Banner */
    .calc-version-banner { display: flex; flex-wrap: wrap; gap: 24px; margin-top: 20px; padding: 16px 20px; background: var(--surface); border: 1px solid var(--border); border-radius: 12px; font-size: 13px; }
    .calc-version-banner .version-item { display: flex; flex-direction: column; gap: 2px; }
    .calc-version-banner .version-label { color: var(--text-muted); font-weight: 500; text-transform: uppercase; font-size: 10px; letter-spacing: 0.5px; }
    .calc-version-banner .version-value { color: var(--text); font-weight: 600; }
    .calc-version-banner .version-link { color: var(--primary); text-decoration: none; }
    .calc-version-banner .version-link:hover { text-decoration: underline; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <!-- Navigation (Utility) -->
  <a href="#main-content" class="skip-link">Skip to content</a>
<a href="#main-content" class="skip-link">Skip to content</a>
<nav class="nav">
  <div class="container">
    <a href="/" class="nav-brand">
      <img src="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png" alt="Clearly">
      Clearly
    </a>
    <ul class="nav-links">
      <li><a href="/blog.html">Common Ground</a></li>
      <li><a href="/professionals.html">For Professionals</a></li>
      <li><a href="#" class="nav-cta" data-access-modal>Request Access</a></li>
    </ul>
    <button class="nav-toggle" aria-label="Menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>
</nav>

<script>
  // Mobile menu toggle
  const navToggle = document.querySelector('.nav-toggle');
  const navLinks = document.querySelector('.nav-links');
  if (navToggle && navLinks) {
    navToggle.addEventListener('click', () => {
      navToggle.classList.toggle('open');
      navLinks.classList.toggle('open');
    });
  }
</script>
<script src="/js/access-modal.js" defer></script>

<script>
  // Mobile menu toggle
  const navToggle = document.querySelector('.nav-toggle');
  const navLinks = document.querySelector('.nav-links');
  if (navToggle && navLinks) {
    navToggle.addEventListener('click', () => {
      navToggle.classList.toggle('open');
      navLinks.classList.toggle('open');
    });
  }
</script>
<script src="/js/access-modal.js" defer></script>

  <header class="calc-page-header">
    <div class="container">
      <div class="calc-breadcrumb"><a href="/calculators/">All Calculators</a> / Illinois</div>
      <h1>Illinois Child Support Calculator</h1>
      <p>Calculate guideline child support using Illinois's income shares model (750 ILCS 5/505).</p>
      <div class="calc-version-banner">
        <div class="version-item">
          <span class="version-label">Guidelines Effective</span>
          <span class="version-value">2025</span>
        </div>
        <div class="version-item">
          <span class="version-label">Calculator Updated</span>
          <span class="version-value">January 9, 2025</span>
        </div>
        <div class="version-item">
          <span class="version-label">Source</span>
          <a href="https://www.ilga.gov/legislation/ilcs/ilcs4.asp?ActID=2086" target="_blank" class="version-link">750 ILCS 5/505</a>
        </div>
      </div>
    </div>
  </header>

  <section class="calculator-section">
    <div class="container">
      <div class="calc-info-box">
        <h4>How Illinois Calculates Child Support</h4>
        <p>Illinois uses the Income Shares model. Both parents' net incomes are combined to determine the basic support obligation. Each parent then contributes their proportional share based on their percentage of the combined income. Shared parenting adjustments apply when a parent has 146+ overnights (40%).</p>
      </div>

      <div class="calc-form-group">
        <div class="calc-form-header" onclick="this.parentElement.classList.toggle('collapsed')">
          <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>Monthly Income</h3>
        </div>
        <div class="calc-form-body">
          <div class="income-grid">
            <div class="income-column">
              <h4>Parent 1</h4>
              <div class="calc-field">
                <label>Gross Monthly Income</label>
                <div class="calc-input-prefix"><input type="number" class="calc-input" id="p1GrossIncome" placeholder="0" onchange="calculateTotals()"></div>
                <p class="calc-note">Before taxes</p>
              </div>
              <div class="calc-field">
                <label>Net Monthly Income</label>
                <div class="calc-input-prefix"><input type="number" class="calc-input" id="p1NetIncome" placeholder="0" onchange="calculateTotals()"></div>
                <p class="calc-note">After standardized taxes (auto-calculated if left blank)</p>
              </div>
            </div>
            <div class="income-column">
              <h4>Parent 2</h4>
              <div class="calc-field">
                <label>Gross Monthly Income</label>
                <div class="calc-input-prefix"><input type="number" class="calc-input" id="p2GrossIncome" placeholder="0" onchange="calculateTotals()"></div>
                <p class="calc-note">Before taxes</p>
              </div>
              <div class="calc-field">
                <label>Net Monthly Income</label>
                <div class="calc-input-prefix"><input type="number" class="calc-input" id="p2NetIncome" placeholder="0" onchange="calculateTotals()"></div>
                <p class="calc-note">After standardized taxes (auto-calculated if left blank)</p>
              </div>
            </div>
          </div>
          <div class="calc-subtotal">
            <label>Combined Net Monthly Income</label>
            <span class="calc-subtotal-value" id="combinedIncome">$0</span>
          </div>
        </div>
      </div>

      <div class="calc-form-group">
        <div class="calc-form-header" onclick="this.parentElement.classList.toggle('collapsed')">
          <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle></svg>Children & Parenting Time</h3>
        </div>
        <div class="calc-form-body">
          <div class="income-grid">
            <div class="calc-field">
              <label>Number of Children</label>
              <select class="calc-select" id="numChildren">
                <option value="1">1 child</option>
                <option value="2">2 children</option>
                <option value="3">3 children</option>
                <option value="4">4 children</option>
                <option value="5">5 children</option>
                <option value="6">6 children</option>
              </select>
            </div>
            <div class="calc-field">
              <label>Primary Custodial Parent</label>
              <select class="calc-select" id="custodialParent">
                <option value="1">Parent 1</option>
                <option value="2">Parent 2</option>
              </select>
            </div>
          </div>
          <div class="calc-toggle">
            <div class="calc-toggle-switch" id="sharedToggle" onclick="toggleShared()"></div>
            <label onclick="toggleShared()">Shared parenting (both parents have 40%+ overnights)</label>
          </div>
          <div id="sharedFields" style="display: none; margin-top: 20px;">
            <div class="income-grid">
              <div class="calc-field">
                <label>Parent 1's Overnights per Year</label>
                <input type="number" class="calc-input" id="p1Overnights" placeholder="182" max="365">
              </div>
              <div class="calc-field">
                <label>Parent 2's Overnights per Year</label>
                <input type="number" class="calc-input" id="p2Overnights" placeholder="183" max="365">
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="calc-form-group">
        <div class="calc-form-header" onclick="this.parentElement.classList.toggle('collapsed')">
          <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg>Additional Expenses</h3>
        </div>
        <div class="calc-form-body">
          <div class="income-grid">
            <div class="calc-field">
              <label>Monthly Childcare Costs</label>
              <div class="calc-input-prefix"><input type="number" class="calc-input" id="childcare" placeholder="0"></div>
              <p class="calc-note">Work-related childcare</p>
            </div>
            <div class="calc-field">
              <label>Monthly Health Insurance (children)</label>
              <div class="calc-input-prefix"><input type="number" class="calc-input" id="healthIns" placeholder="0"></div>
              <p class="calc-note">Premium for children only</p>
            </div>
          </div>
        </div>
      </div>

      <div class="calc-button-row">
        <button class="btn btn-primary btn-calculate" onclick="calculateSupport()">Calculate Child Support</button>
        <button class="btn btn-reset" onclick="resetCalculator()">Reset</button>
      </div>

      <div class="calc-results-section" id="resultsSection">
        <h2 style="font-size: 24px; font-weight: 700; margin: 32px 0 24px;">Results</h2>
        <div class="calc-results-card">
          <h3>Guideline Child Support</h3>
          <div class="calc-result-primary">
            <div class="calc-result-row" style="border: none; padding: 0;">
              <span class="calc-result-label">Monthly Child Support</span>
              <span class="calc-result-value" id="monthlySupport">$0</span>
            </div>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Annual Amount</span>
            <span class="calc-result-value" id="annualSupport">$0</span>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Payor</span>
            <span class="calc-result-value" id="payorParent">-</span>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Basic Support Obligation</span>
            <span class="calc-result-value" id="basicObligation">$0</span>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Payor's Income Share</span>
            <span class="calc-result-value" id="incomeShare">0%</span>
          </div>
        </div>
        <div class="calc-disclaimer">
          <h4>Important Disclaimer</h4>
          <p>This calculator provides <strong>estimates only</strong> based on 750 ILCS 5/505 guidelines. Actual amounts may differ based on judicial discretion, deviations, and specific case factors. Low-income provisions may apply if income is below 75% of federal poverty guidelines. This is not legal advice. Consult an Illinois family law attorney for accurate guidance.</p>
        </div>

        <button class="btn btn-secondary btn-download" onclick="downloadPDF()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
          Download PDF
        </button>
      </div>
    </div>
  </section>

  <!-- Footer (Utility) -->
  <footer class="footer" style="padding: 40px 0; background: var(--surface); border-top: 1px solid var(--border);">
    <div class="container" style="text-align: center;">
      <p style="margin: 0 0 8px 0; font-size: 14px; color: var(--text-secondary);">
        A free tool from <a href="/" style="color: var(--primary); font-weight: 500;">Clearly</a>
      </p>
      <p style="margin: 0; font-size: 13px; color: var(--text-muted);">
        &copy; 2026 Clearly LLC. <a href="/privacy.html" style="color: var(--text-muted);">Privacy</a> Â· <a href="/terms.html" style="color: var(--text-muted);">Terms</a>
      </p>
    </div>
  </footer>

  <script>
    // Mobile menu toggle
    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.querySelector('.nav-links');
    if (navToggle && navLinks) {
      navToggle.addEventListener('click', () => {
        navToggle.classList.toggle('open');
        navLinks.classList.toggle('open');
      });
    }
  </script><script>
    // Illinois child support schedule - Official 2025 values from HFS
    // Based on 750 ILCS 5/505 Income Shares Model
    const IL_CONFIG = {
      incomeCap: 30025, // Monthly cap for schedule
      lowIncomeThreshold: 1295, // ~75% FPL monthly
      lowIncomePerChild: 40,
      lowIncomeMax: 120,
      grossToNet: 0.72 // Approximate gross to net conversion
    };

    // Illinois basic obligation schedule - 2025 official values
    // Format: [maxIncome, [1child, 2child, 3child, 4child, 5child, 6child]]
    const IL_SCHEDULE = {
      brackets: [
        [1000, [150, 228, 273, 304, 335, 364]],
        [1500, [283, 431, 516, 576, 634, 689]],
        [2000, [416, 633, 758, 847, 932, 1012]],
        [2500, [540, 822, 984, 1099, 1209, 1314]],
        [3000, [659, 1003, 1201, 1341, 1475, 1603]],
        [3500, [773, 1176, 1409, 1573, 1730, 1880]],
        [4000, [882, 1342, 1607, 1794, 1974, 2144]],
        [4500, [988, 1503, 1800, 2010, 2211, 2402]],
        [5000, [1090, 1658, 1986, 2218, 2440, 2651]],
        [5500, [1140, 1734, 2077, 2319, 2551, 2772]],
        [6000, [1189, 1808, 2165, 2418, 2660, 2890]],
        [6500, [1236, 1880, 2251, 2514, 2766, 3005]],
        [7000, [1282, 1950, 2335, 2607, 2868, 3116]],
        [7500, [1326, 2017, 2416, 2698, 2968, 3225]],
        [8000, [1369, 2082, 2494, 2785, 3064, 3329]],
        [8500, [1410, 2145, 2569, 2869, 3156, 3429]],
        [9000, [1450, 2205, 2641, 2950, 3245, 3526]],
        [9500, [1488, 2263, 2711, 3028, 3331, 3619]],
        [10000, [1525, 2320, 2779, 3103, 3414, 3709]],
        [12000, [1655, 2518, 3016, 3368, 3704, 4025]],
        [14000, [1775, 2700, 3234, 3612, 3973, 4317]],
        [16000, [1885, 2868, 3435, 3836, 4220, 4585]],
        [18000, [1987, 3023, 3621, 4044, 4449, 4834]],
        [20000, [2082, 3167, 3793, 4236, 4660, 5063]],
        [22000, [2119, 3224, 3861, 4312, 4744, 5155]],
        [24000, [2155, 3279, 3927, 4386, 4825, 5243]],
        [26000, [2190, 3332, 3991, 4457, 4903, 5328]],
        [28000, [2223, 3382, 4052, 4525, 4978, 5409]],
        [30025, [2241, 3289, 3821, 4268, 4693, 5103]]
      ]
    };

    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.querySelector('.nav-links');
    navToggle.addEventListener('click', () => { navToggle.classList.toggle('open'); navLinks.classList.toggle('open'); });

    function formatCurrency(amount) { return '$' + Math.round(amount).toLocaleString(); }
    function getVal(id) { return parseFloat(document.getElementById(id).value) || 0; }

    function toggleShared() {
      const toggle = document.getElementById('sharedToggle');
      const fields = document.getElementById('sharedFields');
      toggle.classList.toggle('active');
      fields.style.display = toggle.classList.contains('active') ? 'block' : 'none';
    }

    function grossToNet(gross) {
      return gross * IL_CONFIG.grossToNet;
    }

    function calculateTotals() {
      let p1Net = getVal('p1NetIncome');
      let p2Net = getVal('p2NetIncome');

      // Auto-calculate net if only gross provided
      if (p1Net === 0 && getVal('p1GrossIncome') > 0) {
        p1Net = grossToNet(getVal('p1GrossIncome'));
      }
      if (p2Net === 0 && getVal('p2GrossIncome') > 0) {
        p2Net = grossToNet(getVal('p2GrossIncome'));
      }

      const combined = p1Net + p2Net;
      document.getElementById('combinedIncome').textContent = formatCurrency(combined);
    }

    function getBasicObligation(combinedIncome, numChildren) {
      const childIdx = Math.min(numChildren, 6) - 1;

      // Find bracket with linear interpolation
      for (let i = 0; i < IL_SCHEDULE.brackets.length; i++) {
        if (combinedIncome <= IL_SCHEDULE.brackets[i][0]) {
          if (i === 0) return IL_SCHEDULE.brackets[i][1][childIdx];
          const prevBracket = IL_SCHEDULE.brackets[i - 1];
          const currBracket = IL_SCHEDULE.brackets[i];
          const incomeRange = currBracket[0] - prevBracket[0];
          const incomeAbovePrev = combinedIncome - prevBracket[0];
          const ratio = incomeAbovePrev / incomeRange;
          const obligationRange = currBracket[1][childIdx] - prevBracket[1][childIdx];
          return prevBracket[1][childIdx] + (obligationRange * ratio);
        }
      }
      // Above max bracket - return max value (court discretion applies)
      return IL_SCHEDULE.brackets[IL_SCHEDULE.brackets.length - 1][1][childIdx];
    }

    function calculateSupport() {
      let p1Net = getVal('p1NetIncome');
      let p2Net = getVal('p2NetIncome');

      // Auto-calculate net if only gross provided
      if (p1Net === 0 && getVal('p1GrossIncome') > 0) {
        p1Net = grossToNet(getVal('p1GrossIncome'));
      }
      if (p2Net === 0 && getVal('p2GrossIncome') > 0) {
        p2Net = grossToNet(getVal('p2GrossIncome'));
      }

      const combined = p1Net + p2Net;
      const numChildren = parseInt(document.getElementById('numChildren').value);
      const custodialParent = document.getElementById('custodialParent').value;
      const childcare = getVal('childcare');
      const healthIns = getVal('healthIns');
      const isShared = document.getElementById('sharedToggle').classList.contains('active');

      if (combined <= 0) {
        alert('Please enter income for at least one parent.');
        return;
      }

      // Calculate shares
      const p1Share = p1Net / combined;
      const p2Share = p2Net / combined;

      // Get basic obligation from schedule
      let basicObligation = getBasicObligation(combined, numChildren);

      // Add additional expenses
      const totalObligation = basicObligation + childcare + healthIns;

      // Determine payor (non-custodial parent)
      const payorIsP1 = custodialParent === '2';
      let payorShare = payorIsP1 ? p1Share : p2Share;
      let payorNet = payorIsP1 ? p1Net : p2Net;

      let monthlySupport;

      // Check for low-income provision
      if (payorNet < IL_CONFIG.lowIncomeThreshold) {
        monthlySupport = Math.min(numChildren * IL_CONFIG.lowIncomePerChild, IL_CONFIG.lowIncomeMax);
      } else if (isShared) {
        // Shared parenting calculation
        const p1Overnights = getVal('p1Overnights') || 182;
        const p2Overnights = getVal('p2Overnights') || 183;
        const totalOvernights = p1Overnights + p2Overnights;

        const p1TimeShare = p1Overnights / totalOvernights;
        const p2TimeShare = p2Overnights / totalOvernights;

        // Shared custody formula: BSOA * 1.5 * (each parent's share adjusted by time)
        const adjustedObligation = totalObligation * 1.5;
        const p1Obligation = adjustedObligation * p1Share * p2TimeShare;
        const p2Obligation = adjustedObligation * p2Share * p1TimeShare;

        monthlySupport = Math.abs(p1Obligation - p2Obligation);
      } else {
        // Standard calculation
        monthlySupport = totalObligation * payorShare;
      }

      // Display results
      document.getElementById('resultsSection').classList.add('visible');
      document.getElementById('monthlySupport').textContent = formatCurrency(monthlySupport);
      document.getElementById('annualSupport').textContent = formatCurrency(monthlySupport * 12);
      document.getElementById('payorParent').textContent = payorIsP1 ? 'Parent 1' : 'Parent 2';
      document.getElementById('basicObligation').textContent = formatCurrency(totalObligation);
      document.getElementById('incomeShare').textContent = (payorShare * 100).toFixed(1) + '%';

      document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
    }

    function resetCalculator() {
      document.querySelectorAll('.calc-input').forEach(input => input.value = '');
      document.querySelectorAll('.calc-select').forEach(select => select.selectedIndex = 0);
      document.getElementById('sharedToggle').classList.remove('active');
      document.getElementById('sharedFields').style.display = 'none';
      calculateTotals();
      document.getElementById('resultsSection').classList.remove('visible');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const primaryColor = [13, 130, 104]; // Teal #0D8268
      const primaryLight = [230, 245, 241];
      const textColor = [26, 25, 23];
      const mutedColor = [140, 135, 128];

      // Header
      doc.setFillColor(...primaryColor);
      doc.rect(0, 0, 210, 32, 'F');
      doc.setTextColor(255, 255, 255);
      doc.setFontSize(20);
      doc.setFont('helvetica', 'bold');
      doc.text('Clearly', 20, 20);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      doc.text('Child Support Estimate  |  Illinois', 52, 20);
      doc.setFontSize(8);
      doc.text(new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }), 20, 28);

      let yPos = 42;

      // Income Details
      doc.setFillColor(...primaryLight);
      doc.roundedRect(15, yPos - 3, 180, 42, 2, 2, 'F');
      doc.setTextColor(...primaryColor);
      doc.setFontSize(9);
      doc.setFont('helvetica', 'bold');
      doc.text('Income Details', 20, yPos + 5);

      doc.setTextColor(...textColor);
      doc.setFontSize(8);
      doc.setFont('helvetica', 'normal');

      const p1Income = formatCurrency(getVal('p1Income'));
      const p2Income = formatCurrency(getVal('p2Income'));
      const combined = document.getElementById('combinedIncome').textContent;

      doc.text('Parent 1 Monthly Gross Income: ' + p1Income, 20, yPos + 14);
      doc.text('Parent 2 Monthly Gross Income: ' + p2Income, 20, yPos + 22);
      doc.setFont('helvetica', 'bold');
      doc.text('Combined Gross Income: ' + combined, 20, yPos + 32);

      yPos += 48;

      // Children & custody
      const numChildren = document.getElementById('numChildren')?.value || '1';
      const custodial = document.getElementById('custodialParent')?.value === '1' ? 'Parent 1' : 'Parent 2';
      const isShared = document.getElementById('sharedToggle')?.classList.contains('active');
      doc.setFont('helvetica', 'normal');
      doc.setFontSize(8);
      doc.text('Number of Children: ' + numChildren + '  |  Custodial Parent: ' + custodial + (isShared ? '  |  Shared Parenting: Yes' : ''), 20, yPos);
      yPos += 10;

      // Results
      const monthlySupport = document.getElementById('monthlySupport').textContent;
      const annualSupport = document.getElementById('annualSupport').textContent;
      const payorParent = document.getElementById('payorParent').textContent;
      const incomeShare = document.getElementById('incomeShare')?.textContent || '';

      doc.setFillColor(...primaryColor);
      doc.roundedRect(15, yPos - 3, 180, 38, 2, 2, 'F');
      doc.setTextColor(255, 255, 255);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'bold');
      doc.text('Guideline Child Support', 20, yPos + 6);
      doc.setFontSize(8);
      doc.setFont('helvetica', 'normal');
      doc.text('Payor: ' + payorParent + '  |  Obligor Income Share: ' + incomeShare, 20, yPos + 14);
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('TOTAL: ' + monthlySupport + '/month  (' + annualSupport + '/year)', 20, yPos + 28);

      yPos += 48;

      // Guidelines
      doc.setTextColor(...textColor);
      doc.setFontSize(8);
      doc.setFont('helvetica', 'bold');
      doc.text('Guidelines Applied:', 20, yPos);
      doc.setFont('helvetica', 'normal');
      doc.setTextColor(...mutedColor);
      yPos += 5;
      doc.text('750 ILCS 5/505  |  Income Shares Model  |  Shared Parenting: 40%+ overnights', 20, yPos);

      yPos += 12;

      // Disclaimer
      doc.setFontSize(7);
      const disclaimer = 'DISCLAIMER: This estimate is based on 750 ILCS 5/505. Actual amounts may differ based on judicial discretion and case factors. This is not legal advice.';
      const splitDisclaimer = doc.splitTextToSize(disclaimer, 175);
      doc.text(splitDisclaimer, 20, yPos);

      yPos += splitDisclaimer.length * 3 + 8;

      // Footer
      doc.setDrawColor(...primaryColor);
      doc.setLineWidth(0.5);
      doc.line(20, yPos, 190, yPos);
      doc.setFontSize(8);
      doc.setTextColor(...primaryColor);
      doc.text('Generated by Clearly  |  getclearly.app', 20, yPos + 5);
      doc.setTextColor(...mutedColor);
      doc.text('Guidelines: 2025', 155, yPos + 5);

      doc.save('IL-Child-Support-Estimate-' + new Date().toISOString().split('T')[0] + '.pdf');
    }

    document.addEventListener('DOMContentLoaded', calculateTotals);
  </script>

  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebApplication","name":"Illinois Child Support Calculator","applicationCategory":"FinanceApplication","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"creator":{"@type":"Organization","name":"Clearly LLC"},"description":"Calculate Illinois child support using the income shares model based on 750 ILCS 5/505."}
  </script>
</body>
</html>
