<!DOCTYPE html>
<html lang="en">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DYZ1XEXPMT"></script>
  <script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-DYZ1XEXPMT');</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pennsylvania Child Support Calculator 2025 | Free & Private | Clearly</title>
  <meta name="description" content="Calculate Pennsylvania child support using the official income shares model (231 Pa. Code Rule 1910.16). Free, private calculator - no data stored.">
  <link rel="canonical" href="https://getclearly.app/calculators/support/pennsylvania.html">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://getclearly.app/calculators/support/pennsylvania.html">
  <meta property="og:title" content="Pennsylvania Child Support Calculator 2025 | Free & Private">
  <meta property="og:description" content="Calculate PA child support using the income shares model. Free, private - no data stored.">
  <meta property="og:image" content="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png">
  <meta name="robots" content="index, follow">
  <meta name="keywords" content="pennsylvania child support calculator, PA child support, 231 Pa Code 1910.16, pennsylvania child support guidelines 2025, income shares pennsylvania">
  <link rel="stylesheet" href="/styles.css">
  <link rel="icon" href="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/favicon.png">
  <style>
    .calc-page-header { padding: 60px 0 40px; background: linear-gradient(180deg, var(--surface) 0%, var(--bg) 100%); border-bottom: 1px solid var(--border); }
    .calc-page-header .container { max-width: 900px; }
    .calc-page-header h1 { font-size: 36px; font-weight: 700; margin-bottom: 12px; }
    .calc-page-header p { font-size: 17px; color: var(--text-secondary); margin-bottom: 8px; }
    .calc-page-header .last-updated { font-size: 14px; color: var(--text-muted); }
    .calc-breadcrumb { font-size: 14px; color: var(--text-muted); margin-bottom: 16px; }
    .calc-breadcrumb a { color: var(--primary); }
    .calculator-section { padding: 40px 0 80px; }
    .calculator-section .container { max-width: 900px; }
    .calc-form-group { background: var(--surface); border: 1px solid var(--border); border-radius: 16px; margin-bottom: 20px; overflow: hidden; }
    .calc-form-header { padding: 20px 24px; background: var(--bg); border-bottom: 1px solid var(--border); cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
    .calc-form-header h3 { font-size: 17px; font-weight: 600; margin: 0; display: flex; align-items: center; gap: 10px; }
    .calc-form-body { padding: 24px; }
    .calc-form-group.collapsed .calc-form-body { display: none; }
    .income-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 32px; }
    .income-column h4 { font-size: 15px; font-weight: 600; color: var(--primary); margin-bottom: 20px; padding-bottom: 12px; border-bottom: 2px solid var(--primary-soft); }
    .calc-field { margin-bottom: 16px; }
    .calc-field label { display: block; font-size: 14px; font-weight: 500; color: var(--text-secondary); margin-bottom: 6px; }
    .calc-input { width: 100%; padding: 12px 14px; border: 1px solid var(--border); border-radius: 8px; font-size: 16px; }
    .calc-input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px var(--primary-soft); }
    .calc-input-prefix { position: relative; }
    .calc-input-prefix .calc-input { padding-left: 28px; }
    .calc-input-prefix::before { content: "$"; position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-muted); }
    .calc-subtotal { background: var(--primary-soft); border-radius: 8px; padding: 14px 16px; margin-top: 20px; display: flex; justify-content: space-between; align-items: center; }
    .calc-subtotal label { font-size: 14px; font-weight: 600; color: var(--primary-dark); margin: 0; }
    .calc-subtotal-value { font-size: 18px; font-weight: 700; color: var(--primary); }
    .calc-select { width: 100%; padding: 12px 14px; border: 1px solid var(--border); border-radius: 8px; font-size: 16px; background: var(--surface); }
    .calc-results-section { margin-top: 32px; display: none; }
    .calc-results-section.visible { display: block; }
    .calc-results-card { background: var(--primary-soft); border: 1px solid var(--primary-border); border-radius: 20px; padding: 32px; margin-bottom: 20px; }
    .calc-results-card h3 { font-size: 14px; font-weight: 600; text-transform: uppercase; color: var(--primary-dark); margin-bottom: 20px; }
    .calc-result-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--primary-border); }
    .calc-result-row:last-child { border-bottom: none; }
    .calc-result-label { font-size: 15px; color: var(--text-secondary); }
    .calc-result-value { font-size: 18px; font-weight: 700; color: var(--text); }
    .calc-result-primary { background: var(--primary); color: white; padding: 16px 20px; border-radius: 12px; margin: -8px -8px 16px; }
    .calc-result-primary .calc-result-label { color: rgba(255,255,255,0.8); }
    .calc-result-primary .calc-result-value { font-size: 28px; color: white; }
    .calc-disclaimer { background: #FEF3C7; border: 1px solid #F59E0B; border-radius: 12px; padding: 20px 24px; margin-top: 24px; }
    .calc-disclaimer h4 { font-size: 15px; font-weight: 600; color: #92400E; margin-bottom: 8px; }
    .calc-disclaimer p { font-size: 14px; color: #78350F; margin: 0; line-height: 1.6; }
    .calc-button-row { margin-top: 32px; display: flex; gap: 16px; }
    .btn-calculate { flex: 1; padding: 18px 32px; font-size: 18px; border: none; }
    .btn-reset { padding: 18px 24px; background: var(--surface); border: 1px solid var(--border); color: var(--text-secondary); }
    .calc-note { font-size: 13px; color: var(--text-muted); margin-top: 8px; font-style: italic; }
    .calc-info-box { background: var(--bg); border: 1px solid var(--border); border-radius: 12px; padding: 20px; margin-bottom: 20px; }
    .calc-info-box h4 { font-size: 15px; font-weight: 600; margin-bottom: 12px; }
    .calc-info-box p { font-size: 14px; color: var(--text-secondary); margin: 0; }
    .calc-toggle { display: flex; align-items: center; gap: 12px; margin-top: 16px; }
    .calc-toggle-switch { position: relative; width: 48px; height: 28px; background: var(--border); border-radius: 14px; cursor: pointer; transition: background 0.2s; }
    .calc-toggle-switch.active { background: var(--primary); }
    .calc-toggle-switch::after { content: ""; position: absolute; top: 2px; left: 2px; width: 24px; height: 24px; background: white; border-radius: 50%; transition: transform 0.2s; box-shadow: 0 2px 4px rgba(0,0,0,0.15); }
    .calc-toggle-switch.active::after { transform: translateX(20px); }
    .calc-toggle label { font-size: 14px; color: var(--text-secondary); cursor: pointer; }
    @media (max-width: 768px) {
      .calc-page-header h1 { font-size: 28px; }
      .income-grid { grid-template-columns: 1fr; }
      .calc-button-row { flex-direction: column; }
    }
    .btn-download { display: flex; align-items: center; justify-content: center; gap: 8px; width: 100%; margin-top: 24px; padding: 16px 24px; background: var(--surface); border: 1px solid var(--border); color: var(--text); font-size: 16px; font-weight: 600; border-radius: 12px; cursor: pointer; transition: all 0.2s ease; }
    .btn-download:hover { background: var(--bg); border-color: var(--primary); color: var(--primary); }
    .btn-download svg { flex-shrink: 0; }

    /* Version Banner */
    .calc-version-banner { display: flex; flex-wrap: wrap; gap: 24px; margin-top: 20px; padding: 16px 20px; background: var(--surface); border: 1px solid var(--border); border-radius: 12px; font-size: 13px; }
    .calc-version-banner .version-item { display: flex; flex-direction: column; gap: 2px; }
    .calc-version-banner .version-label { color: var(--text-muted); font-weight: 500; text-transform: uppercase; font-size: 10px; letter-spacing: 0.5px; }
    .calc-version-banner .version-value { color: var(--text); font-weight: 600; }
    .calc-version-banner .version-link { color: var(--primary); text-decoration: none; }
    .calc-version-banner .version-link:hover { text-decoration: underline; }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <nav class="nav">
    <div class="container">
      <a href="/" class="nav-brand"><img src="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png" alt="Clearly">Clearly</a>
      <ul class="nav-links">
        <li><a href="/blog.html">Blog</a></li>
        <li><a href="/professionals.html">Professionals</a></li>
        <li><a href="/#notify" class="nav-cta">Join Waitlist</a></li>
      </ul>
      <button class="nav-toggle" aria-label="Menu"><span></span><span></span><span></span></button>
    </div>
  </nav>

  <header class="calc-page-header">
    <div class="container">
      <div class="calc-breadcrumb"><a href="/calculators/">All Calculators</a> / Pennsylvania</div>
      <h1>Pennsylvania Child Support Calculator</h1>
      <p>Calculate guideline child support using Pennsylvania's income shares model (231 Pa. Code Rule 1910.16).</p>
      <div class="calc-version-banner">
        <div class="version-item">
          <span class="version-label">Guidelines Effective</span>
          <span class="version-value">January 2026</span>
        </div>
        <div class="version-item">
          <span class="version-label">Calculator Updated</span>
          <span class="version-value">January 9, 2025</span>
        </div>
        <div class="version-item">
          <span class="version-label">Source</span>
          <a href="https://www.pacodeandbulletin.gov/Display/pacode?file=/secure/pacode/data/231/chapter1910/s1910.16-3.html" target="_blank" class="version-link">231 Pa. Code Rule 1910.16-3</a>
        </div>
      </div>
    </div>
  </header>

  <section class="calculator-section">
    <div class="container">
      <div class="calc-info-box">
        <h4>How Pennsylvania Calculates Child Support</h4>
        <p>Pennsylvania uses the Income Shares model. Both parents' monthly net incomes are combined to find the basic support obligation from the schedule. Each parent's share is proportional to their income. Shared custody adjustments apply when a parent has 40%+ overnights (146+ nights/year).</p>
      </div>

      <div class="calc-form-group">
        <div class="calc-form-header" onclick="this.parentElement.classList.toggle('collapsed')">
          <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="1" y="4" width="22" height="16" rx="2"></rect><line x1="1" y1="10" x2="23" y2="10"></line></svg>Monthly Net Income</h3>
        </div>
        <div class="calc-form-body">
          <div class="income-grid">
            <div class="income-column">
              <h4>Parent 1</h4>
              <div class="calc-field">
                <label>Monthly Net Income</label>
                <div class="calc-input-prefix"><input type="number" class="calc-input" id="p1Income" placeholder="0" onchange="calculateTotals()"></div>
                <p class="calc-note">After taxes, FICA, union dues, etc.</p>
              </div>
            </div>
            <div class="income-column">
              <h4>Parent 2</h4>
              <div class="calc-field">
                <label>Monthly Net Income</label>
                <div class="calc-input-prefix"><input type="number" class="calc-input" id="p2Income" placeholder="0" onchange="calculateTotals()"></div>
                <p class="calc-note">After taxes, FICA, union dues, etc.</p>
              </div>
            </div>
          </div>
          <div class="calc-subtotal">
            <label>Combined Monthly Net Income</label>
            <span class="calc-subtotal-value" id="combinedIncome">$0</span>
          </div>
        </div>
      </div>

      <div class="calc-form-group">
        <div class="calc-form-header" onclick="this.parentElement.classList.toggle('collapsed')">
          <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle></svg>Children & Custody</h3>
        </div>
        <div class="calc-form-body">
          <div class="income-grid">
            <div class="calc-field">
              <label>Number of Children</label>
              <select class="calc-select" id="numChildren">
                <option value="1">1 child</option>
                <option value="2">2 children</option>
                <option value="3">3 children</option>
                <option value="4">4 children</option>
                <option value="5">5 children</option>
                <option value="6">6 children</option>
              </select>
            </div>
            <div class="calc-field">
              <label>Primary Custodial Parent</label>
              <select class="calc-select" id="custodialParent">
                <option value="1">Parent 1</option>
                <option value="2">Parent 2</option>
              </select>
            </div>
          </div>
          <div class="calc-toggle">
            <div class="calc-toggle-switch" id="sharedToggle" onclick="toggleShared()"></div>
            <label onclick="toggleShared()">Shared custody (obligor has 40%+ overnights)</label>
          </div>
          <div id="sharedFields" style="display: none; margin-top: 20px;">
            <div class="calc-field">
              <label>Non-Custodial Parent's Overnights per Year</label>
              <input type="number" class="calc-input" id="obligorOvernights" placeholder="146" max="182">
              <p class="calc-note">Must be at least 146 (40%) for shared custody formula</p>
            </div>
          </div>
        </div>
      </div>

      <div class="calc-form-group">
        <div class="calc-form-header" onclick="this.parentElement.classList.toggle('collapsed')">
          <h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2L2 7l10 5 10-5-10-5z"></path><path d="M2 17l10 5 10-5"></path><path d="M2 12l10 5 10-5"></path></svg>Additional Expenses</h3>
        </div>
        <div class="calc-form-body">
          <div class="income-grid">
            <div class="calc-field">
              <label>Monthly Childcare Costs</label>
              <div class="calc-input-prefix"><input type="number" class="calc-input" id="childcare" placeholder="0"></div>
              <p class="calc-note">Work-related childcare expenses</p>
            </div>
            <div class="calc-field">
              <label>Monthly Health Insurance (children)</label>
              <div class="calc-input-prefix"><input type="number" class="calc-input" id="healthIns" placeholder="0"></div>
              <p class="calc-note">Premium attributable to children only</p>
            </div>
          </div>
        </div>
      </div>

      <div class="calc-button-row">
        <button class="btn btn-primary btn-calculate" onclick="calculateSupport()">Calculate Child Support</button>
        <button class="btn btn-reset" onclick="resetCalculator()">Reset</button>
      </div>

      <div class="calc-results-section" id="resultsSection">
        <h2 style="font-size: 24px; font-weight: 700; margin: 32px 0 24px;">Results</h2>
        <div class="calc-results-card">
          <h3>Guideline Child Support</h3>
          <div class="calc-result-primary">
            <div class="calc-result-row" style="border: none; padding: 0;">
              <span class="calc-result-label">Monthly Child Support</span>
              <span class="calc-result-value" id="monthlySupport">$0</span>
            </div>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Annual Amount</span>
            <span class="calc-result-value" id="annualSupport">$0</span>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Payor</span>
            <span class="calc-result-value" id="payorParent">-</span>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Basic Support Obligation</span>
            <span class="calc-result-value" id="basicObligation">$0</span>
          </div>
          <div class="calc-result-row">
            <span class="calc-result-label">Obligor's Income Share</span>
            <span class="calc-result-value" id="incomeShare">0%</span>
          </div>
        </div>
        <div class="calc-disclaimer">
          <h4>Important Disclaimer</h4>
          <p>This calculator provides <strong>estimates only</strong> based on 231 Pa. Code Rule 1910.16 guidelines. Actual amounts may differ based on judicial discretion, deviations, and specific case factors. For high-income cases (combined income over $30,000/month), the court has discretion. This is not legal advice. Consult a Pennsylvania family law attorney for accurate guidance.</p>
        </div>

        <button class="btn btn-secondary btn-download" onclick="downloadPDF()">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
          Download PDF
        </button>
      </div>
    </div>
  </section>

  <section class="cta">
    <div class="cta-pattern"></div>
    <div class="container"><div class="cta-content">
      <img src="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png" alt="Clearly" class="cta-icon">
      <h2>Managing co-parenting?</h2>
      <p>Clearly helps co-parents coordinate schedules, track expenses, and communicate without conflict.</p>
      <a href="https://apps.apple.com/app/clearly" target="_blank" class="app-store-badge"><img src="https://tools.applemediaservices.com/api/badges/download-on-the-app-store/white/en-us?size=250x83" alt="Download on the App Store"></a>
    </div></div>
  </section>

  <footer class="footer">
    <div class="container">
      <div class="footer-top">
        <div class="footer-brand-section">
          <div class="footer-brand"><img src="https://dwncravjhkbclbuzijra.supabase.co/storage/v1/object/public/Clearly%20Logos/icon.png" alt="Clearly"><span>Clearly</span></div>
          <p class="footer-tagline">Co-parenting made clear.</p>
        </div>
        <div class="footer-nav">
          <div class="footer-col"><h4>Product</h4><ul><li><a href="/calculators/">Calculators</a></li><li><a href="https://apps.apple.com/app/clearly" target="_blank">Try for Free</a></li></ul></div>
          <div class="footer-col"><h4>Resources</h4><ul><li><a href="/calculators/">Support Calculator</a></li><li><a href="/faq.html">FAQ</a></li><li><a href="/help.html">Help Center</a></li><li><a href="/blog.html">Blog</a></li></ul></div>
          <div class="footer-col"><h4>Company</h4><ul><li><a href="/professionals.html">For Professionals</a></li><li><a href="mailto:care@getclearly.app">Contact Us</a></li></ul></div>
          <div class="footer-col"><h4>Legal</h4><ul><li><a href="/privacy.html">Privacy Policy</a></li><li><a href="/terms.html">Terms of Service</a></li></ul></div>
        </div>
      </div>
      <div class="footer-bottom"><p>&copy; 2025 Clearly LLC. All rights reserved.</p></div>
    </div>
  </footer>

  <script>
    // Pennsylvania Basic Child Support Schedule - 231 Pa. Code Rule 1910.16-3
    // Official values from pacodeandbulletin.gov (amended August 2025, effective January 2026)
    // Format: [maxCombinedIncome, [1child, 2child, 3child, 4child, 5child, 6child]]
    const PA_SCHEDULE = {
      incomeCap: 30000,
      brackets: [
        [1300, [41, 41, 41, 42, 42, 43]],
        [1500, [251, 390, 458, 506, 541, 576]],
        [2000, [461, 678, 685, 693, 700, 708]],
        [2500, [576, 866, 1033, 1153, 1268, 1379]],
        [3000, [691, 1053, 1272, 1421, 1563, 1658]],
        [3500, [804, 1215, 1463, 1634, 1797, 1954]],
        [4000, [916, 1377, 1653, 1847, 2031, 2208]],
        [4500, [998, 1503, 1801, 2012, 2213, 2406]],
        [5000, [1080, 1629, 1949, 2177, 2394, 2603]],
        [5500, [1133, 1702, 2028, 2265, 2492, 2709]],
        [6000, [1186, 1774, 2107, 2353, 2589, 2814]],
        [6500, [1237, 1844, 2182, 2438, 2681, 2914]],
        [7000, [1287, 1913, 2256, 2520, 2772, 3014]],
        [7500, [1363, 2018, 2370, 2648, 2913, 3166]],
        [8000, [1438, 2122, 2484, 2775, 3052, 3318]],
        [8500, [1496, 2214, 2601, 2905, 3195, 3473]],
        [9000, [1553, 2306, 2717, 3034, 3338, 3628]],
        [9500, [1607, 2379, 2794, 3121, 3433, 3731]],
        [10000, [1661, 2452, 2871, 3207, 3527, 3834]],
        [10500, [1714, 2524, 2948, 3292, 3621, 3936]],
        [11000, [1766, 2596, 3024, 3377, 3714, 4038]],
        [12000, [1868, 2737, 3175, 3545, 3900, 4239]],
        [13000, [1968, 2875, 3323, 3710, 4081, 4436]],
        [14000, [2065, 3010, 3468, 3871, 4258, 4628]],
        [15000, [2290, 3333, 3842, 4291, 4720, 5131]],
        [16000, [2383, 3458, 3974, 4439, 4883, 5308]],
        [17000, [2474, 3581, 4105, 4585, 5044, 5483]],
        [18000, [2563, 3702, 4234, 4729, 5202, 5655]],
        [19000, [2656, 3822, 4361, 4871, 5358, 5824]],
        [20000, [2748, 4060, 4759, 5316, 5848, 6356]],
        [21000, [2843, 4178, 4879, 5450, 5996, 6517]],
        [22000, [2936, 4294, 4997, 5582, 6140, 6674]],
        [23000, [3028, 4408, 5113, 5711, 6282, 6828]],
        [24000, [3118, 4519, 5227, 5838, 6421, 6979]],
        [25000, [3267, 4801, 5598, 6253, 6879, 7477]],
        [26000, [3355, 4909, 5708, 6376, 7014, 7624]],
        [27000, [3441, 5014, 5816, 6496, 7146, 7768]],
        [28000, [3526, 5118, 5921, 6614, 7276, 7909]],
        [29000, [3609, 5219, 6023, 6730, 7405, 8048]],
        [30000, [3749, 4981, 5803, 6482, 7130, 7750]]
      ]
    };

    const navToggle = document.querySelector('.nav-toggle');
    const navLinks = document.querySelector('.nav-links');
    navToggle.addEventListener('click', () => { navToggle.classList.toggle('open'); navLinks.classList.toggle('open'); });

    function formatCurrency(amount) { return '$' + Math.round(amount).toLocaleString(); }
    function getVal(id) { return parseFloat(document.getElementById(id).value) || 0; }

    function toggleShared() {
      const toggle = document.getElementById('sharedToggle');
      const fields = document.getElementById('sharedFields');
      toggle.classList.toggle('active');
      fields.style.display = toggle.classList.contains('active') ? 'block' : 'none';
    }

    function calculateTotals() {
      const combined = getVal('p1Income') + getVal('p2Income');
      document.getElementById('combinedIncome').textContent = formatCurrency(combined);
    }

    function getBasicObligation(combinedIncome, numChildren) {
      const childIdx = Math.min(numChildren, 6) - 1;

      // Find bracket
      for (let i = 0; i < PA_SCHEDULE.brackets.length; i++) {
        if (combinedIncome <= PA_SCHEDULE.brackets[i][0]) {
          // Linear interpolation between brackets
          if (i === 0) {
            return PA_SCHEDULE.brackets[i][1][childIdx];
          }
          const prevBracket = PA_SCHEDULE.brackets[i - 1];
          const currBracket = PA_SCHEDULE.brackets[i];
          const incomeRange = currBracket[0] - prevBracket[0];
          const incomeAbovePrev = combinedIncome - prevBracket[0];
          const ratio = incomeAbovePrev / incomeRange;
          const obligationRange = currBracket[1][childIdx] - prevBracket[1][childIdx];
          return prevBracket[1][childIdx] + (obligationRange * ratio);
        }
      }
      // Above max - use max bracket value (court has discretion)
      return PA_SCHEDULE.brackets[PA_SCHEDULE.brackets.length - 1][1][childIdx];
    }

    function calculateSupport() {
      const p1Income = getVal('p1Income');
      const p2Income = getVal('p2Income');
      const combined = p1Income + p2Income;
      const numChildren = parseInt(document.getElementById('numChildren').value);
      const custodialParent = document.getElementById('custodialParent').value;
      const childcare = getVal('childcare');
      const healthIns = getVal('healthIns');
      const isShared = document.getElementById('sharedToggle').classList.contains('active');

      if (combined <= 0) {
        alert('Please enter income for at least one parent.');
        return;
      }

      // Get basic obligation from schedule
      const basicObligation = getBasicObligation(combined, numChildren);

      // Calculate each parent's share
      const p1Share = p1Income / combined;
      const p2Share = p2Income / combined;

      // Determine obligor (non-custodial parent)
      const obligorIsP1 = custodialParent === '2';
      const obligorShare = obligorIsP1 ? p1Share : p2Share;

      // Calculate obligor's portion of basic support
      let obligorBasic = basicObligation * obligorShare;

      // Apply shared custody adjustment if applicable
      if (isShared) {
        const overnights = getVal('obligorOvernights') || 146;
        if (overnights >= 146) {
          // PA shared custody formula reduces support based on overnights
          // Formula: (365 - overnights) / 365 adjustment factor
          const adjustmentFactor = (365 - overnights) / 365;
          // The formula reduces the basic obligation to account for increased expenses during parenting time
          obligorBasic = obligorBasic * adjustmentFactor * 1.5; // PA uses 1.5x multiplier then adjustment
        }
      }

      // Add proportional share of additional expenses
      const additionalExpenses = childcare + healthIns;
      const obligorAdditional = additionalExpenses * obligorShare;

      // Total monthly support
      const monthlySupport = obligorBasic + obligorAdditional;
      const totalObligation = basicObligation + additionalExpenses;

      // Display results
      document.getElementById('resultsSection').classList.add('visible');
      document.getElementById('monthlySupport').textContent = formatCurrency(monthlySupport);
      document.getElementById('annualSupport').textContent = formatCurrency(monthlySupport * 12);
      document.getElementById('payorParent').textContent = obligorIsP1 ? 'Parent 1' : 'Parent 2';
      document.getElementById('basicObligation').textContent = formatCurrency(totalObligation);
      document.getElementById('incomeShare').textContent = (obligorShare * 100).toFixed(1) + '%';

      document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
    }

    function resetCalculator() {
      document.querySelectorAll('.calc-input').forEach(input => input.value = '');
      document.querySelectorAll('.calc-select').forEach(select => select.selectedIndex = 0);
      document.getElementById('sharedToggle').classList.remove('active');
      document.getElementById('sharedFields').style.display = 'none';
      calculateTotals();
      document.getElementById('resultsSection').classList.remove('visible');
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function downloadPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      const primaryColor = [13, 130, 104]; // Teal #0D8268
      const primaryLight = [230, 245, 241];
      const textColor = [26, 25, 23];
      const mutedColor = [140, 135, 128];

      // Header
      doc.setFillColor(...primaryColor);
      doc.rect(0, 0, 210, 32, 'F');
      doc.setTextColor(255, 255, 255);
      doc.setFontSize(20);
      doc.setFont('helvetica', 'bold');
      doc.text('Clearly', 20, 20);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'normal');
      doc.text('Child Support Estimate  |  Pennsylvania', 52, 20);
      doc.setFontSize(8);
      doc.text(new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }), 20, 28);

      let yPos = 42;

      // Income Details
      doc.setFillColor(...primaryLight);
      doc.roundedRect(15, yPos - 3, 180, 42, 2, 2, 'F');
      doc.setTextColor(...primaryColor);
      doc.setFontSize(9);
      doc.setFont('helvetica', 'bold');
      doc.text('Income Details', 20, yPos + 5);

      doc.setTextColor(...textColor);
      doc.setFontSize(8);
      doc.setFont('helvetica', 'normal');

      const p1Income = formatCurrency(getVal('p1Income'));
      const p2Income = formatCurrency(getVal('p2Income'));
      const combined = document.getElementById('combinedIncome').textContent;

      doc.text('Parent 1 Monthly Net Income: ' + p1Income, 20, yPos + 14);
      doc.text('Parent 2 Monthly Net Income: ' + p2Income, 20, yPos + 22);
      doc.setFont('helvetica', 'bold');
      doc.text('Combined Net Income: ' + combined, 20, yPos + 32);

      yPos += 48;

      // Children & custody
      const numChildren = document.getElementById('numChildren')?.value || '1';
      const custodial = document.getElementById('custodialParent')?.value === '1' ? 'Parent 1' : 'Parent 2';
      const isShared = document.getElementById('sharedToggle')?.classList.contains('active');
      const childcare = formatCurrency(getVal('childcare'));
      const healthIns = formatCurrency(getVal('healthIns'));
      doc.setFont('helvetica', 'normal');
      doc.setFontSize(8);
      doc.text('Children: ' + numChildren + '  |  Custodial Parent: ' + custodial + (isShared ? '  |  Shared Custody: Yes' : ''), 20, yPos);
      yPos += 6;
      doc.text('Additional Expenses - Childcare: ' + childcare + '  |  Health Insurance: ' + healthIns, 20, yPos);
      yPos += 10;

      // Results
      const monthlySupport = document.getElementById('monthlySupport').textContent;
      const annualSupport = document.getElementById('annualSupport').textContent;
      const payorParent = document.getElementById('payorParent').textContent;
      const incomeShare = document.getElementById('incomeShare')?.textContent || '';
      const basicObligation = document.getElementById('basicObligation')?.textContent || '';

      doc.setFillColor(...primaryColor);
      doc.roundedRect(15, yPos - 3, 180, 42, 2, 2, 'F');
      doc.setTextColor(255, 255, 255);
      doc.setFontSize(10);
      doc.setFont('helvetica', 'bold');
      doc.text('Guideline Child Support', 20, yPos + 6);
      doc.setFontSize(8);
      doc.setFont('helvetica', 'normal');
      doc.text('Basic Obligation: ' + basicObligation + '  |  Obligor Income Share: ' + incomeShare, 20, yPos + 14);
      doc.text('Payor: ' + payorParent, 20, yPos + 22);
      doc.setFontSize(14);
      doc.setFont('helvetica', 'bold');
      doc.text('TOTAL: ' + monthlySupport + '/month  (' + annualSupport + '/year)', 20, yPos + 34);

      yPos += 52;

      // Guidelines
      doc.setTextColor(...textColor);
      doc.setFontSize(8);
      doc.setFont('helvetica', 'bold');
      doc.text('Guidelines Applied:', 20, yPos);
      doc.setFont('helvetica', 'normal');
      doc.setTextColor(...mutedColor);
      yPos += 5;
      doc.text('231 Pa. Code Rule 1910.16-3  |  Income Shares Model  |  Shared Custody: 40%+ overnights', 20, yPos);

      yPos += 12;

      // Disclaimer
      doc.setFontSize(7);
      const disclaimer = 'DISCLAIMER: This estimate is based on 231 Pa. Code Rule 1910.16. Actual amounts may differ based on judicial discretion and case factors. This is not legal advice.';
      const splitDisclaimer = doc.splitTextToSize(disclaimer, 175);
      doc.text(splitDisclaimer, 20, yPos);

      yPos += splitDisclaimer.length * 3 + 8;

      // Footer
      doc.setDrawColor(...primaryColor);
      doc.setLineWidth(0.5);
      doc.line(20, yPos, 190, yPos);
      doc.setFontSize(8);
      doc.setTextColor(...primaryColor);
      doc.text('Generated by Clearly  |  getclearly.app', 20, yPos + 5);
      doc.setTextColor(...mutedColor);
      doc.text('Guidelines: January 2026', 145, yPos + 5);

      doc.save('PA-Child-Support-Estimate-' + new Date().toISOString().split('T')[0] + '.pdf');
    }

    document.addEventListener('DOMContentLoaded', calculateTotals);
  </script>

  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebApplication","name":"Pennsylvania Child Support Calculator","applicationCategory":"FinanceApplication","offers":{"@type":"Offer","price":"0","priceCurrency":"USD"},"creator":{"@type":"Organization","name":"Clearly LLC"},"description":"Calculate Pennsylvania child support using the income shares model based on 231 Pa. Code Rule 1910.16."}
  </script>
</body>
</html>
